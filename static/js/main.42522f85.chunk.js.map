{"version":3,"sources":["images/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/AuthForm.js","components/Login.js","components/Register.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/RemoveCardPopup.js","components/ImagePopup.js","utils/api.js","components/ProtectedRoute.js","utils/Auth.js","images/error.svg","images/logined.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","children","CurrentUserContext","React","createContext","Card","userData","useContext","isOwn","openedCard","owner","_id","cardDeleteButtonClassName","isLiked","cardLikes","some","i","cardLikeButtonClassName","onClick","onCardDelete","type","onCardClick","cardImage","cardName","onCardLike","length","Main","exact","to","activeClassName","userMail","email","singOut","avatar","onEditAvatar","name","onEditProfile","about","onAddPlace","initialCards","map","card","сardClick","link","likes","Footer","AuthForm","useState","password","data","setData","handleChange","e","target","value","onSubmit","preventDefault","login","onChange","id","placeholder","required","minLength","maxLength","buttonText","Login","onLogin","Register","onRegister","PopupWithForm","isOpen","closePopup","title","EditProfilePopup","setProfileName","description","setProfileAbout","validationName","setValidationName","validationAbout","setValidationAbout","useEffect","onUpdateUser","saving","validationMessage","EditAvatarPopup","setAvatar","validationAvatar","setValidationAvatar","onUpdateAvatar","AddPlacePopup","setCardName","cardLink","setCardLink","validationLink","setValidationLink","RemoveCardPopup","onRemoveCard","ImagePopup","apiMesto","config","this","url","authorization","auth","res","ok","json","Promise","reject","status","fetch","headers","method","then","_getResponseData","body","JSON","stringify","ProtectedRoute","Component","component","loggedIn","BASE_URL","checkResponse","response","statusText","InfoTooltip","isRegister","logined","error","App","cards","setCards","abaut","currentUser","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","deleteCard","setDeleteCard","selectedCard","setSelectedCard","isSaving","setIsSaving","closeAllPopups","setIsInfoTooltipOpen","getProfileData","catch","err","console","log","closeByEscape","key","document","addEventListener","removeEventListener","getInitialCards","setLoggedIn","setUserData","history","useHistory","tokenCheck","token","jwt","localStorage","getItem","setIsInfoRegister","push","isInfoTooltipOpen","isInfoRegister","Provider","path","Auth","setItem","changeLikeCardStatus","newCard","state","c","item","removeItem","newDataUser","profileRedact","finally","cardCreate","newAvatar","avatarRedact","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.42522f85.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.931a48ca.svg\";","import logo from '../images/header__logo.svg';\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header className=\"header\">\r\n            <img src={logo} alt=\"Логотип Mesto\" className=\"header__logo\" />\r\n            <nav className=\"menu\">\r\n                {props.children}\r\n            </nav>\r\n        </header>\r\n    );\r\n}\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n    const userData = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.openedCard.owner._id === userData._id;\r\n    const cardDeleteButtonClassName = (\r\n        `card__remove ${isOwn ? '' : 'card__remove_visibility_hide'}`\r\n    );\r\n\r\n    const isLiked = props.cardLikes.some(i => i._id === userData._id);\r\n    const cardLikeButtonClassName = (\r\n        `card__like ${isLiked ? 'card__like_active' : ''}`\r\n    ); \r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.openedCard);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.openedCard);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.openedCard);\r\n    }\r\n\r\n    return (\r\n        <li className=\"card\">\r\n            <button onClick={handleDeleteClick} aria-label=\"Удаление карточки\" type=\"button\" className={cardDeleteButtonClassName}></button>\r\n            <div className=\"card__image-container\">\r\n                <img onClick={handleClick} src={props.cardImage} alt={props.cardName} className=\"card__image\" />\r\n            </div>\r\n            <div className=\"card__description-container\">\r\n                <h2 className=\"card__description\">{props.cardName}</h2>\r\n                <div className=\"card__button-container\">\r\n                  <button onClick={handleLikeClick} aria-label=\"Лайк\" type=\"button\" className={cardLikeButtonClassName}></button>\r\n                  <p className=\"card__likes\">{props.cardLikes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport Header from './Header';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction Main(props) {\r\n\r\n    const userData = React.useContext(CurrentUserContext);\r\n    return (\r\n        <>\r\n        <Header>\r\n            <NavLink exact to=\"/\" activeClassName=\"menu__link_active\" className=\"menu__link\">{props.userMail.email}</NavLink>\r\n            <NavLink onClick={props.singOut} to=\"/sign-in\" className=\"menu__link\">Выйти</NavLink>\r\n        </Header>\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n            <div className=\"profile__container\">\r\n                <div className=\"profile__image-container\">\r\n                    <button aria-label=\"Изменение имени и описания профиля\" type=\"button\" className=\"profile__image-redact\"></button>\r\n                    <img src={userData.avatar} alt=\"Фотография профиля\" className=\"profile__image\" onClick={props.onEditAvatar}/>\r\n                </div>\r\n                <div className=\"profile__container-info\">\r\n                <div className=\"profile__container-name\">\r\n                    <h1 className=\"profile__name\">{userData.name}</h1>\r\n                    <button aria-label=\"Изменение имени и описания профиля\" type=\"button\" className=\"profile__redact\" onClick={props.onEditProfile}></button>\r\n                </div>\r\n                <p className=\"profile__description\">{userData.about}</p>\r\n                </div>\r\n            </div>\r\n            <button aria-label=\"Добавление карточек с местами\" type=\"button\" className=\"profile__add-profile\" onClick={props.onAddPlace}></button>\r\n            </section>\r\n    \r\n            <section className=\"places\">\r\n            <ul className=\"places__cards\">\r\n                {props.initialCards.map((card) => (\r\n                    <Card\r\n                        openedCard={card}\r\n                        onCardClick={props.сardClick}\r\n                        cardName={card.name}\r\n                        cardImage={card.link}\r\n                        key={card._id}\r\n                        cardLikes={card.likes}\r\n                        onCardLike={props.onCardLike}\r\n                        onCardDelete={props.onCardDelete}\r\n                    />\r\n                    )\r\n                )}\r\n            </ul>\r\n            </section>\r\n        </main>\r\n        </>\r\n    );\r\n}\r\nexport default Main;","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction AuthForm(props) {\r\n\r\n    const [data, setData] = React.useState({\r\n        password: '', \r\n        email: '',\r\n    });\r\n\r\n    function handleChange(e) {\r\n        const {name, value} = e.target\r\n        setData({\r\n            ...data,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.login(data);\r\n    }\r\n    \r\n    return (\r\n        <form onSubmit={handleSubmit} name=\"register\" className=\"auth-form\">\r\n            <section className=\"auth-form__element\">\r\n                <input value={data.email || ''} onChange={handleChange} id=\"sing-in-email\" type=\"email\" placeholder=\"Email\" name=\"email\" className=\"auth-form__input\" required minLength=\"2\" maxLength=\"40\" />\r\n            </section>\r\n            <section className=\"auth-form__element\">\r\n                <input value={data.password || ''} onChange={handleChange} id=\"sing-in-password\" type=\"password\" placeholder=\"Пароль\" name=\"password\" className=\"auth-form__input\" required minLength=\"2\" maxLength=\"40\" />\r\n            </section>\r\n            <button type=\"submit\" className=\"auth-form__submit\">{props.buttonText}</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default AuthForm;","import React from 'react';\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Login(props) {\r\n\r\n    return (\r\n        <main className=\"auth\">\r\n            <h2 className=\"auth__header\">Вход</h2>\r\n            <AuthForm\r\n                login={props.onLogin}\r\n                buttonText=\"Войти\"\r\n            />\r\n        </main>\r\n    );\r\n}\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Register(props) {\r\n\r\n    return (\r\n        <main className=\"auth\">\r\n            <h2 className=\"auth__header\">Регистрация</h2>\r\n            <AuthForm login={props.onRegister} buttonText=\"Зарегистрироваться\"/>\r\n            <Link className=\"auth__link\" to='/sign-in'>Уже зарегистрированы? Войти</Link>\r\n        </main>\r\n    );\r\n}\r\nexport default Register;","function PopupWithForm(props) {\r\n\r\n    return (\r\n        <section className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_is-opened' : ''}`} >\r\n            <div className=\"popup__container\">\r\n                <button  onClick={props.closePopup} aria-label=\"Закрыть редактирование профиля\" type=\"button\" className=\"popup__exit popup__exit-profile\"></button>\r\n                <h2 className=\"popup__text-redaction\">{props.title}</h2>\r\n                <form onSubmit={props.onSubmit} name={`${props.name}`} className=\"popup__form popup__form-profile\">\r\n                    {props.children}\r\n                    <button type=\"submit\" className=\"popup__save\">{props.buttonText}</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const userData = React.useContext(CurrentUserContext);\r\n\r\n    const [name, setProfileName] = React.useState('');\r\n    const [description, setProfileAbout] = React.useState('');\r\n    const [validationName, setValidationName] = React.useState('');\r\n    const [validationAbout, setValidationAbout] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setProfileName(userData.name);\r\n        setProfileAbout(userData.about);\r\n    }, [userData, props.isOpen]);\r\n\r\n    function handleChangeName(e) {\r\n        setProfileName(e.target.value)\r\n        setValidationName(e.target.validationMessage)\r\n    }\r\n\r\n    function handleChangeAbout(e) {\r\n        setProfileAbout(e.target.value)\r\n        setValidationAbout(e.target.validationMessage)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name: name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} buttonText={`${props.saving ? 'Сохранение...' : 'Сохранить'}`} title=\"Редактировать профиль\" name=\"edit\" isOpen={props.isOpen} closePopup={props.closePopup} >\r\n            <section className=\"popup__input-element\">\r\n                <input value={name || ''} onChange={handleChangeName} id=\"sing-in-name\" type=\"text\" placeholder=\"Имя\" name=\"name\" className=\"popup__input popup__input_change_name\" required minLength=\"2\" maxLength=\"40\" />\r\n                <span className=\"popup__input-error\" id=\"sing-in-name-error\">{validationName}</span>\r\n            </section>\r\n            <section className=\"popup__input-element\">\r\n                <input value={description || ''} onChange={handleChangeAbout} id=\"sing-in-description\" type=\"text\" placeholder=\"Описание\" name=\"description\" className=\"popup__input popup__input_change_description\" required minLength=\"2\" maxLength=\"200\" />\r\n                <span className=\"popup__input-error\" id=\"sing-in-description-error\">{validationAbout}</span>\r\n            </section>\r\n        </PopupWithForm>\r\n    );\r\n}\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    \r\n    const [avatar, setAvatar] = React.useState('');\r\n    const [validationAvatar, setValidationAvatar] = React.useState('');\r\n\r\n    function handleSubmit(e) {\r\n      e.preventDefault();\r\n      \r\n      props.onUpdateAvatar({\r\n        avatar: avatar,\r\n      });\r\n\r\n      setAvatar('')\r\n\r\n    }\r\n\r\n    function handleChangeAvatar(e) {\r\n      setAvatar(e.target.value)\r\n      setValidationAvatar(e.target.validationMessage)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} buttonText={`${props.saving ? 'Сохранение...' : 'Сохранить'}`} title=\"Обновить аватар\" name=\"add-avatar\" isOpen={props.isOpen} closePopup={props.closePopup} >\r\n          <section className=\"popup__input-element\">\r\n            <input value={avatar || ''} onChange={handleChangeAvatar} id=\"avatar-url\" type=\"url\" placeholder=\"Ссылка на картинку\" name=\"avatar\" className=\"popup__input popup__input_change_avatar\" required />\r\n            <span className=\"popup__input-error\" id=\"avatar-url-error\">{validationAvatar}</span>\r\n          </section>\r\n        </PopupWithForm>\r\n    );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [cardName, setCardName] = React.useState('');\r\n    const [cardLink, setCardLink] = React.useState('');\r\n    const [validationName, setValidationName] = React.useState('');\r\n    const [validationLink, setValidationLink] = React.useState('');\r\n\r\n    function handleChangeName(e) {\r\n        setCardName(e.target.value)\r\n        setValidationName(e.target.validationMessage)\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setCardLink(e.target.value)\r\n        setValidationLink(e.target.validationMessage)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name: cardName,\r\n            link: cardLink,\r\n        });\r\n        setCardName('')\r\n        setCardLink('')\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} buttonText={`${props.saving ? 'Создание...' : 'Создать'}`} title=\"Новое место\" name=\"add-card\" isOpen={props.isOpen} closePopup={props.closePopup} >\r\n            <section className=\"popup__input-element\">\r\n                <input value={cardName || ''} onChange={handleChangeName} id=\"sing-in-place\" type=\"text\" placeholder=\"Название\" name=\"place\" className=\"popup__input popup__input_change_name-card\" required minLength=\"2\" maxLength=\"30\" />\r\n                <span className=\"popup__input-error\" id=\"sing-in-place-error\">{validationName}</span>\r\n            </section>\r\n            <section className=\"popup__input-element\">\r\n               <input value={cardLink || ''} onChange={handleChangeLink} id=\"sing-in-url\" type=\"url\" placeholder=\"Ссылка на картинку\" name=\"url\" className=\"popup__input popup__input_change_src\" required />\r\n              <span className=\"popup__input-error\" id=\"sing-in-url-error\">{validationLink}</span>\r\n            </section>\r\n        </PopupWithForm>\r\n    );\r\n}\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction RemoveCardPopup(props) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onRemoveCard()\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            onSubmit={handleSubmit}\r\n            buttonText={`${props.saving ? 'Удаление...' : 'Да'}`}\r\n            title=\"Вы уверены?\"\r\n            name=\"delete-card\"\r\n            isOpen={props.isOpen}\r\n            closePopup={props.closePopup} >\r\n        </PopupWithForm>\r\n    );\r\n}\r\nexport default RemoveCardPopup;","function ImagePopup(props) {\r\n\r\n    return (\r\n    <section className={`popup popup_type_image ${props.cardLink ? 'popup_is-opened' : ''}`}>\r\n        <div className=\"popup__photo-container\">\r\n            <button onClick={props.closePopup} aria-label=\"Закрыть просмотр фото\" type=\"button\" className=\"popup__exit-see-photo\"></button>\r\n            <img src={`${props.cardLink}`} alt={`${props.cardName}`} className=\"popup__image-see-photo\" />\r\n            <h2 className=\"popup__text-see-photo\">{props.cardName}</h2>\r\n        </div>\r\n    </section>\r\n    );\r\n}\r\nexport default ImagePopup;","class Api {\n  constructor(config) {\n    this.url = config.url;\n    this.authorization = config.auth;\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n\n  getProfileData() {\n    return fetch(`${this.url}/users/me`, {\n     headers: {\n       authorization: this.authorization,\n       method: 'GET',\n     }\n   })\n   .then(res => this._getResponseData(res))\n }\n\n  getInitialCards() {\n    return fetch(`${this.url}/cards`, {\n      headers: {\n        authorization: this.authorization,\n        method: 'GET',\n      }\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  profileRedact(data) {\n    return fetch(`${this.url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  cardCreate(data) {\n    return fetch(`${this.url}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this.url}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: {\n          authorization: this.authorization,\n        },\n      })\n      .then(res => this._getResponseData(res))\n    } else {\n      return fetch(`${this.url}/cards/likes/${id}`, {\n        method: 'PUT',\n        headers: {\n          authorization: this.authorization,\n        },\n      })\n      .then(res => this._getResponseData(res))\n    }\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.authorization,\n      },\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  avatarRedact(data) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n}\n\nconst apiMesto = new Api({\n  url: 'https://nomoreparties.co/v1/cohort-27',\n  auth: '947e1a41-7fdd-411e-be19-4441fbe7ac08'\n})\n\nexport default apiMesto","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute; ","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst checkResponse = (response) => {\r\n    return response.ok ? response.json() : Promise.reject(`Ошибка: ${response.statusText}`);\r\n}\r\n\r\nexport const register = ({ password, email }) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ password, email })\r\n    })\r\n    .then(checkResponse);\r\n};\r\n\r\nexport const authorize = ({ password, email }) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ password, email })\r\n    })\r\n    .then(checkResponse);\r\n};\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    })\r\n    .then(checkResponse);\r\n}; ","export default __webpack_public_path__ + \"static/media/error.d4ce2a26.svg\";","export default __webpack_public_path__ + \"static/media/logined.a9eb6caf.svg\";","import error from '../images/error.svg';\r\nimport logined from '../images/logined.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n    // const element = false\r\n\r\n    // const login = true\r\n\r\n    return (\r\n    <section className={`popup ${props.isOpen ? 'popup_is-opened' : ''}`}>\r\n        <div className=\"popup__container\">\r\n                <button  onClick={props.closePopup} aria-label=\"Закрыть модальное окно\" type=\"button\" className=\"popup__exit\"></button>\r\n                <img src={`${props.isRegister ? logined : error}`} alt=\"индикатор регистрации\" className=\"popup__logined\" />\r\n                <h2 className=\"popup__text-logined\">{`${props.isRegister ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}`}</h2>\r\n        </div>\r\n    </section>\r\n    );\r\n}\r\nexport default InfoTooltip;","import React, { useEffect } from 'react';\nimport { Route, Switch, NavLink, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport Login from './Login';\nimport Register from './Register';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport RemoveCardPopup from './RemoveCardPopup';\nimport ImagePopup from './ImagePopup';\nimport apiMesto from '../utils/api';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as Auth from '../utils/Auth.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport InfoTooltip from './InfoTooltip';\n\nfunction App() {\n\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({name: '', abaut: '', avatar: '', _id: ''});\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [deleteCard, setDeleteCard] = React.useState(null);\n  const [selectedCard, setSelectedCard] = React.useState({name: '', link: ''});\n  const [isSaving, setIsSaving] = React.useState(false);\n\n  React.useEffect(() => {\n    apiMesto\n    .getProfileData()\n    .then (data => {\n      if(data) {\n        setCurrentUser(data)\n      }\n    })\n    .catch(err => console.log(err))\n  }, []);\n\n\n\n  function handleCardClick(item) {\n    setSelectedCard(item);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setDeleteCard(null);\n    setSelectedCard({name: '', link: ''});\n  }\n\n  React.useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', closeByEscape)\n    \n    return () => document.removeEventListener('keydown', closeByEscape)\n  }, [])\n\n  function handleUpdateUser(newDataUser) {\n    setIsSaving(true)\n    apiMesto\n    .profileRedact(newDataUser)\n    .then((data) => {\n      setCurrentUser(data)\n      setIsEditProfilePopupOpen(false)\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      setIsSaving(false)\n    });\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    setIsSaving(true)\n    apiMesto\n    .avatarRedact(newAvatar)\n    .then((data) => {\n      setCurrentUser(data)\n      setIsEditAvatarPopupOpen(false)\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      setIsSaving(false)\n    });\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    setIsSaving(true)\n    apiMesto\n    .cardCreate(newCard)\n    .then((data) => {\n      setCards([data, ...cards]); \n      setIsAddPlacePopupOpen(false)\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      setIsSaving(false)\n    });\n  }\n\n  React.useEffect(() => {\n    apiMesto\n    .getInitialCards()\n    .then (data => {\n        setCards(data)\n    })\n    .catch(err => console.log(err))\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    apiMesto\n    .changeLikeCardStatus(card._id, isLiked)\n    .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch(err => console.log(err))\n  }\n\n  function handleRemoveCardSubmit() {\n    setIsSaving(true)\n    apiMesto\n    .deleteCard(deleteCard._id)\n    .then(() => {\n      setCards((state) => state.filter((c) => c._id !== deleteCard._id));\n      setDeleteCard(false)\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      setIsSaving(false)\n    });\n  }\n\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userData, setUserData] = React.useState({\n    _id: '', \n    email: '',\n  });\n\n  function handleLogin({ password, email }) {\n    Auth.authorize({ password, email })\n    .then(data => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        tokenCheck()\n        history.push('/')\n      }\n    })\n    .catch((err) => {\n      setIsInfoTooltipOpen(true)\n      setIsInfoRegister(false)\n      console.log(err)\n    })\n  }\n\n  function handleRegister ({ password, email }) {\n    Auth.register({ password, email })\n    .then((res) => {\n      if (res) {\n        setIsInfoTooltipOpen(true)\n        setIsInfoRegister(true)\n        history.push('/sign-in')\n      }\n    })\n    .catch((err) => {\n      setIsInfoTooltipOpen(true)\n      setIsInfoRegister(false)\n      console.log(err)\n    })\n  }\n\n  const history = useHistory();\n\n  useEffect(() => {\n    if (loggedIn === true) {\n      history.push('/')\n    }\n  }, [loggedIn, history])\n\n  useEffect(() => {\n    tokenCheck()\n  }, [])\n\n  function tokenCheck () {\n    const jwt = localStorage.getItem('jwt')\n    if (localStorage.getItem('jwt')) {\n      Auth.getContent(jwt)\n      .then((res) => {\n        if (res) {\n          setUserData({\n            _id: res.data._id, \n            email: res.data.email,\n          })\n          setLoggedIn(true)\n        }\n      })\n      .catch((err) => {\n        setIsInfoTooltipOpen(true)\n        setIsInfoRegister(false)\n        console.log(err)\n      })\n    }\n  }\n\n  function handleSingOut () {\n    localStorage.removeItem('jwt');\n  }\n\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [isInfoRegister, setIsInfoRegister] = React.useState(false);\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n\n        <Switch>\n\n          <Route path='/sign-in'>\n            <Header>\n              <NavLink to=\"/sign-up\" className=\"menu__link\">Регистрация</NavLink>\n            </Header>\n            <Login onLogin={handleLogin} />\n          </Route>\n\n          <Route path='/sign-up'>\n            <Header>\n              <NavLink to=\"/sign-in\" className=\"menu__link\">Войти</NavLink>\n            </Header>\n            <Register onRegister={handleRegister} />\n          </Route>\n\n          <ProtectedRoute\n            path='/'\n            loggedIn={loggedIn}\n            initialCards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={setDeleteCard}\n            сardClick={handleCardClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            singOut={handleSingOut}\n            userMail={userData}\n            component={Main}\n          />\n\n        </Switch>\n\n        <Footer />\n\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          isRegister={isInfoRegister}\n          closePopup={closeAllPopups}\n        />\n\n        <EditProfilePopup\n          saving={isSaving}\n          onUpdateUser={handleUpdateUser} \n          isOpen={isEditProfilePopupOpen}\n          closePopup={closeAllPopups}\n        />\n      \n        <AddPlacePopup\n          saving={isSaving}\n          onAddPlace={handleAddPlaceSubmit}\n          isOpen={isAddPlacePopupOpen}\n          closePopup={closeAllPopups}\n        />\n\n        <EditAvatarPopup\n          saving={isSaving}\n          onUpdateAvatar={handleUpdateAvatar}\n          isOpen={isEditAvatarPopupOpen}\n          closePopup={closeAllPopups}\n        />\n\n        <RemoveCardPopup\n          saving={isSaving}\n          onRemoveCard={handleRemoveCardSubmit}\n          isOpen={deleteCard}\n          closePopup={closeAllPopups}\n        />\n\n        <ImagePopup\n          cardName={selectedCard.name}\n          cardLink={selectedCard.link}\n          closePopup={closeAllPopups}\n        />\n\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}