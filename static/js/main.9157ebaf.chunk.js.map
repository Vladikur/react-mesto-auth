{"version":3,"sources":["images/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/AuthForm.js","components/Login.js","components/Register.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/RemoveCardPopup.js","components/ImagePopup.js","utils/api.js","components/ProtectedRoute.js","utils/Auth.js","images/error.svg","images/logined.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","React","useState","isMenuOpen","SetIsMenuOpen","handleMenuClick","headerContainerClassName","buttonMenuOpenClassName","buttonMenuCloseClassName","className","children","src","logo","alt","onClick","type","CurrentUserContext","createContext","Card","userData","useContext","isOwn","openedCard","owner","_id","cardDeleteButtonClassName","isLiked","cardLikes","some","i","cardLikeButtonClassName","onCardDelete","onCardClick","cardImage","cardName","onCardLike","length","Main","exact","to","activeClassName","userMail","email","singOut","avatar","onEditAvatar","name","onEditProfile","about","onAddPlace","initialCards","map","card","сardClick","link","likes","Footer","AuthForm","validationMail","setValidationMail","validationPassword","setValidationPassword","password","data","setData","handleChange","e","target","value","validationMessage","inputNameClassName","inputLinkClassName","onSubmit","preventDefault","login","onChange","id","placeholder","required","minLength","maxLength","buttonText","Login","onLogin","Register","onRegister","PopupWithForm","isOpen","closePopup","title","EditProfilePopup","setProfileName","description","setProfileAbout","validationName","setValidationName","validationAbout","setValidationAbout","useEffect","inputAboutClassName","onUpdateUser","saving","EditAvatarPopup","setAvatar","validationAvatar","setValidationAvatar","inputClassName","onUpdateAvatar","AddPlacePopup","setCardName","cardLink","setCardLink","validationLink","setValidationLink","RemoveCardPopup","onRemoveCard","ImagePopup","apiMesto","config","this","url","authorization","auth","res","ok","json","Promise","reject","status","fetch","headers","method","then","_getResponseData","body","JSON","stringify","ProtectedRoute","Component","component","loggedIn","BASE_URL","checkResponse","response","statusText","InfoTooltip","isRegister","logined","error","App","cards","setCards","abaut","currentUser","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","deleteCard","setDeleteCard","selectedCard","setSelectedCard","isSaving","setIsSaving","closeAllPopups","setIsInfoTooltipOpen","getProfileData","catch","err","console","log","closeByEscape","key","document","addEventListener","removeEventListener","getInitialCards","setLoggedIn","setUserData","history","useHistory","tokenCheck","token","jwt","localStorage","getItem","setIsInfoRegister","push","isInfoTooltipOpen","isInfoRegister","Provider","path","changeLikeCardStatus","newCard","state","c","item","removeItem","Auth","setItem","newDataUser","profileRedact","finally","cardCreate","newAvatar","avatarRedact","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9157ebaf.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.931a48ca.svg\";","import logo from '../images/header__logo.svg';\r\nimport React from 'react';\r\n\r\nfunction Header(props) {\r\n\r\n    const [isMenuOpen, SetIsMenuOpen] = React.useState(false);\r\n\r\n    function handleMenuClick() {\r\n        if(isMenuOpen) {\r\n            SetIsMenuOpen(false)\r\n        } else {\r\n            SetIsMenuOpen(true);\r\n        }\r\n    }\r\n\r\n    const headerContainerClassName = (\r\n        `header__container1 ${isMenuOpen ? 'header__container1_active' : ''}`\r\n    );\r\n\r\n    const buttonMenuOpenClassName = (\r\n        `${isMenuOpen ? 'header__button-menu_hidden' : 'header__button-menu'}`\r\n    );\r\n\r\n    const buttonMenuCloseClassName = (\r\n        `header__button-menu-close ${isMenuOpen ? 'header__button-menu-close_active' : ''}`\r\n    ); \r\n\r\n    return (\r\n        <header>\r\n        <div className={headerContainerClassName}>\r\n            {props.children}\r\n        </div>\r\n        <div className=\"header__container2\">\r\n            <img src={logo} alt=\"Логотип Mesto\" className=\"header__logo\" />\r\n            <button onClick={handleMenuClick} aria-label=\"открытие меню бургер\" type=\"button\" className={buttonMenuOpenClassName}></button>\r\n            <button onClick={handleMenuClick} aria-label=\"закрытие меню бургер\" type=\"button\" className={buttonMenuCloseClassName}></button>\r\n            <nav className=\"menu\">\r\n                {props.children}\r\n            </nav>\r\n        </div>\r\n        </header>\r\n    );\r\n}\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n    const userData = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.openedCard.owner._id === userData._id;\r\n    const cardDeleteButtonClassName = (\r\n        `card__remove ${isOwn ? '' : 'card__remove_visibility_hide'}`\r\n    );\r\n\r\n    const isLiked = props.cardLikes.some(i => i._id === userData._id);\r\n    const cardLikeButtonClassName = (\r\n        `card__like ${isLiked ? 'card__like_active' : ''}`\r\n    ); \r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.openedCard);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.openedCard);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.openedCard);\r\n    }\r\n\r\n    return (\r\n        <li className=\"card\">\r\n            <button onClick={handleDeleteClick} aria-label=\"Удаление карточки\" type=\"button\" className={cardDeleteButtonClassName}></button>\r\n            <div className=\"card__image-container\">\r\n                <img onClick={handleClick} src={props.cardImage} alt={props.cardName} className=\"card__image\" />\r\n            </div>\r\n            <div className=\"card__description-container\">\r\n                <h2 className=\"card__description\">{props.cardName}</h2>\r\n                <div className=\"card__button-container\">\r\n                  <button onClick={handleLikeClick} aria-label=\"Лайк\" type=\"button\" className={cardLikeButtonClassName}></button>\r\n                  <p className=\"card__likes\">{props.cardLikes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport Header from './Header';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction Main(props) {\r\n\r\n    const userData = React.useContext(CurrentUserContext);\r\n    return (\r\n        <>\r\n        <Header>\r\n            <NavLink exact to=\"/\" activeClassName=\"menu__link_active\" className=\"menu__link\">{props.userMail.email}</NavLink>\r\n            <NavLink onClick={props.singOut} to=\"/sign-in\" className=\"menu__link\">Выйти</NavLink>\r\n        </Header>\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n            <div className=\"profile__container\">\r\n                <div className=\"profile__image-container\">\r\n                    <button aria-label=\"Изменение имени и описания профиля\" type=\"button\" className=\"profile__image-redact\"></button>\r\n                    <img src={userData.avatar} alt=\"Фотография профиля\" className=\"profile__image\" onClick={props.onEditAvatar}/>\r\n                </div>\r\n                <div className=\"profile__container-info\">\r\n                <div className=\"profile__container-name\">\r\n                    <h1 className=\"profile__name\">{userData.name}</h1>\r\n                    <button aria-label=\"Изменение имени и описания профиля\" type=\"button\" className=\"profile__redact\" onClick={props.onEditProfile}></button>\r\n                </div>\r\n                <p className=\"profile__description\">{userData.about}</p>\r\n                </div>\r\n            </div>\r\n            <button aria-label=\"Добавление карточек с местами\" type=\"button\" className=\"profile__add-profile\" onClick={props.onAddPlace}></button>\r\n            </section>\r\n    \r\n            <section className=\"places\">\r\n            <ul className=\"places__cards\">\r\n                {props.initialCards.map((card) => (\r\n                    <Card\r\n                        openedCard={card}\r\n                        onCardClick={props.сardClick}\r\n                        cardName={card.name}\r\n                        cardImage={card.link}\r\n                        key={card._id}\r\n                        cardLikes={card.likes}\r\n                        onCardLike={props.onCardLike}\r\n                        onCardDelete={props.onCardDelete}\r\n                    />\r\n                    )\r\n                )}\r\n            </ul>\r\n            </section>\r\n        </main>\r\n        </>\r\n    );\r\n}\r\nexport default Main;","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction AuthForm(props) {\r\n\r\n    const [validationMail, setValidationMail] = React.useState('');\r\n    const [validationPassword, setValidationPassword] = React.useState('');\r\n\r\n    const [data, setData] = React.useState({\r\n        password: '', \r\n        email: '',\r\n    });\r\n\r\n    function handleChange(e) {\r\n        const {name, value, validationMessage} = e.target\r\n        setData({\r\n            ...data,\r\n            [name]: value\r\n        })\r\n        if(name === 'email'){\r\n            setValidationMail(validationMessage)\r\n        }\r\n        if(name === 'password'){\r\n            setValidationPassword(validationMessage)\r\n        }\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.login(data);\r\n    }\r\n\r\n    const inputNameClassName = (\r\n        `auth-form__input ${validationMail ? 'popup__input_error_active' : ''}`\r\n    );\r\n\r\n    const inputLinkClassName = (\r\n        `auth-form__input ${validationPassword ? 'popup__input_error_active' : ''}`\r\n    );\r\n    \r\n    return (\r\n        <form onSubmit={handleSubmit} name=\"register\" className=\"auth-form\">\r\n            <section className=\"auth-form__element\">\r\n                <input value={data.email || ''} onChange={handleChange} id=\"sing-in-email\" type=\"email\" placeholder=\"Email\" name=\"email\" className={inputNameClassName} required />\r\n                <span className=\"popup__input-error\" id=\"sing-in-place-error\">{validationMail}</span>\r\n            </section>\r\n            <section className=\"auth-form__element\">\r\n                <input value={data.password || ''} onChange={handleChange} id=\"sing-in-password\" type=\"password\" placeholder=\"Пароль\" name=\"password\" className={inputLinkClassName} required minLength=\"1\" maxLength=\"40\" />\r\n                <span className=\"popup__input-error\" id=\"sing-in-place-error\">{validationPassword}</span>\r\n            </section>\r\n            <button type=\"submit\" className=\"auth-form__submit\">{props.buttonText}</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default AuthForm;","import React from 'react';\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Login(props) {\r\n\r\n    return (\r\n        <main className=\"auth\">\r\n            <h2 className=\"auth__header\">Вход</h2>\r\n            <AuthForm\r\n                login={props.onLogin}\r\n                buttonText=\"Войти\"\r\n            />\r\n        </main>\r\n    );\r\n}\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Register(props) {\r\n\r\n    return (\r\n        <main className=\"auth\">\r\n            <h2 className=\"auth__header\">Регистрация</h2>\r\n            <AuthForm login={props.onRegister} buttonText=\"Зарегистрироваться\"/>\r\n            <Link className=\"auth__link\" to='/sign-in'>Уже зарегистрированы? Войти</Link>\r\n        </main>\r\n    );\r\n}\r\nexport default Register;","function PopupWithForm(props) {\r\n\r\n    return (\r\n        <section className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_is-opened' : ''}`} >\r\n            <div className=\"popup__container\">\r\n                <button  onClick={props.closePopup} aria-label=\"Закрыть редактирование профиля\" type=\"button\" className=\"popup__exit popup__exit-profile\"></button>\r\n                <h2 className=\"popup__text-redaction\">{props.title}</h2>\r\n                <form onSubmit={props.onSubmit} name={`${props.name}`} className=\"popup__form popup__form-profile\">\r\n                    {props.children}\r\n                    <button type=\"submit\" className=\"popup__save\">{props.buttonText}</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const userData = React.useContext(CurrentUserContext);\r\n\r\n    const [name, setProfileName] = React.useState('');\r\n    const [description, setProfileAbout] = React.useState('');\r\n    const [validationName, setValidationName] = React.useState('');\r\n    const [validationAbout, setValidationAbout] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setProfileName(userData.name);\r\n        setProfileAbout(userData.about);\r\n    }, [userData, props.isOpen]);\r\n\r\n    function handleChangeName(e) {\r\n        setProfileName(e.target.value)\r\n        setValidationName(e.target.validationMessage)\r\n    }\r\n\r\n    function handleChangeAbout(e) {\r\n        setProfileAbout(e.target.value)\r\n        setValidationAbout(e.target.validationMessage)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name: name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    const inputNameClassName = (\r\n        `popup__input popup__input_change_name ${validationName ? 'popup__input_error_active' : ''}`\r\n    );\r\n\r\n    const inputAboutClassName = (\r\n        `popup__input popup__input_change_description ${validationAbout ? 'popup__input_error_active' : ''}`\r\n    ); \r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} buttonText={`${props.saving ? 'Сохранение...' : 'Сохранить'}`} title=\"Редактировать профиль\" name=\"edit\" isOpen={props.isOpen} closePopup={props.closePopup} >\r\n            <section className=\"popup__input-element\">\r\n                <input value={name || ''} onChange={handleChangeName} id=\"sing-in-name\" type=\"text\" placeholder=\"Имя\" name=\"name\" className={inputNameClassName} required minLength=\"2\" maxLength=\"40\" />\r\n                <span className=\"popup__input-error\" id=\"sing-in-name-error\">{validationName}</span>\r\n            </section>\r\n            <section className=\"popup__input-element\">\r\n                <input value={description || ''} onChange={handleChangeAbout} id=\"sing-in-description\" type=\"text\" placeholder=\"Описание\" name=\"description\" className={inputAboutClassName} required minLength=\"2\" maxLength=\"200\" />\r\n                <span className=\"popup__input-error\" id=\"sing-in-description-error\">{validationAbout}</span>\r\n            </section>\r\n        </PopupWithForm>\r\n    );\r\n}\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    \r\n    const [avatar, setAvatar] = React.useState('');\r\n    const [validationAvatar, setValidationAvatar] = React.useState('');\r\n\r\n    function handleSubmit(e) {\r\n      e.preventDefault();\r\n      \r\n      props.onUpdateAvatar({\r\n        avatar: avatar,\r\n      });\r\n\r\n      setAvatar('')\r\n\r\n    }\r\n\r\n    function handleChangeAvatar(e) {\r\n      setAvatar(e.target.value)\r\n      setValidationAvatar(e.target.validationMessage)\r\n    }\r\n\r\n    const inputClassName = (\r\n      `popup__input popup__input_change_avatar ${validationAvatar ? 'popup__input_error_active' : ''}`\r\n    ); \r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} buttonText={`${props.saving ? 'Сохранение...' : 'Сохранить'}`} title=\"Обновить аватар\" name=\"add-avatar\" isOpen={props.isOpen} closePopup={props.closePopup} >\r\n          <section className=\"popup__input-element\">\r\n            <input value={avatar || ''} onChange={handleChangeAvatar} id=\"avatar-url\" type=\"url\" placeholder=\"Ссылка на картинку\" name=\"avatar\" className={inputClassName} required />\r\n            <span className=\"popup__input-error\" id=\"avatar-url-error\">{validationAvatar}</span>\r\n          </section>\r\n        </PopupWithForm>\r\n    );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [cardName, setCardName] = React.useState('');\r\n    const [cardLink, setCardLink] = React.useState('');\r\n    const [validationName, setValidationName] = React.useState('');\r\n    const [validationLink, setValidationLink] = React.useState('');\r\n\r\n    function handleChangeName(e) {\r\n        setCardName(e.target.value)\r\n        setValidationName(e.target.validationMessage)\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setCardLink(e.target.value)\r\n        setValidationLink(e.target.validationMessage)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name: cardName,\r\n            link: cardLink,\r\n        });\r\n        setCardName('')\r\n        setCardLink('')\r\n    }\r\n\r\n    const inputNameClassName = (\r\n        `popup__input popup__input_change_name-card ${validationName ? 'popup__input_error_active' : ''}`\r\n    );\r\n\r\n    const inputLinkClassName = (\r\n        `popup__input popup__input_change_src ${validationLink ? 'popup__input_error_active' : ''}`\r\n    ); \r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} buttonText={`${props.saving ? 'Создание...' : 'Создать'}`} title=\"Новое место\" name=\"add-card\" isOpen={props.isOpen} closePopup={props.closePopup} >\r\n            <section className=\"popup__input-element\">\r\n                <input value={cardName || ''} onChange={handleChangeName} id=\"sing-in-place\" type=\"text\" placeholder=\"Название\" name=\"place\" className={inputNameClassName} required minLength=\"2\" maxLength=\"30\" />\r\n                <span className=\"popup__input-error\" id=\"sing-in-place-error\">{validationName}</span>\r\n            </section>\r\n            <section className=\"popup__input-element\">\r\n               <input value={cardLink || ''} onChange={handleChangeLink} id=\"sing-in-url\" type=\"url\" placeholder=\"Ссылка на картинку\" name=\"url\" className={inputLinkClassName} required />\r\n              <span className=\"popup__input-error\" id=\"sing-in-url-error\">{validationLink}</span>\r\n            </section>\r\n        </PopupWithForm>\r\n    );\r\n}\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction RemoveCardPopup(props) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onRemoveCard()\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            onSubmit={handleSubmit}\r\n            buttonText={`${props.saving ? 'Удаление...' : 'Да'}`}\r\n            title=\"Вы уверены?\"\r\n            name=\"delete-card\"\r\n            isOpen={props.isOpen}\r\n            closePopup={props.closePopup} >\r\n        </PopupWithForm>\r\n    );\r\n}\r\nexport default RemoveCardPopup;","function ImagePopup(props) {\r\n\r\n    return (\r\n    <section className={`popup popup_type_image ${props.cardLink ? 'popup_is-opened' : ''}`}>\r\n        <div className=\"popup__photo-container\">\r\n            <button onClick={props.closePopup} aria-label=\"Закрыть просмотр фото\" type=\"button\" className=\"popup__exit-see-photo\"></button>\r\n            <img src={`${props.cardLink}`} alt={`${props.cardName}`} className=\"popup__image-see-photo\" />\r\n            <h2 className=\"popup__text-see-photo\">{props.cardName}</h2>\r\n        </div>\r\n    </section>\r\n    );\r\n}\r\nexport default ImagePopup;","class Api {\n  constructor(config) {\n    this.url = config.url;\n    this.authorization = config.auth;\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n\n  getProfileData() {\n    return fetch(`${this.url}/users/me`, {\n     headers: {\n       authorization: this.authorization,\n       method: 'GET',\n     }\n   })\n   .then(res => this._getResponseData(res))\n }\n\n  getInitialCards() {\n    return fetch(`${this.url}/cards`, {\n      headers: {\n        authorization: this.authorization,\n        method: 'GET',\n      }\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  profileRedact(data) {\n    return fetch(`${this.url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  cardCreate(data) {\n    return fetch(`${this.url}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this.url}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: {\n          authorization: this.authorization,\n        },\n      })\n      .then(res => this._getResponseData(res))\n    } else {\n      return fetch(`${this.url}/cards/likes/${id}`, {\n        method: 'PUT',\n        headers: {\n          authorization: this.authorization,\n        },\n      })\n      .then(res => this._getResponseData(res))\n    }\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.authorization,\n      },\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  avatarRedact(data) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n}\n\nconst apiMesto = new Api({\n  url: 'https://nomoreparties.co/v1/cohort-27',\n  auth: '947e1a41-7fdd-411e-be19-4441fbe7ac08'\n})\n\nexport default apiMesto","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute; ","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst checkResponse = (response) => {\r\n    return response.ok ? response.json() : Promise.reject(`Ошибка: ${response.statusText}`);\r\n}\r\n\r\nexport const register = ({ password, email }) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ password, email })\r\n    })\r\n    .then(checkResponse);\r\n};\r\n\r\nexport const authorize = ({ password, email }) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ password, email })\r\n    })\r\n    .then(checkResponse);\r\n};\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    })\r\n    .then(checkResponse);\r\n}; ","export default __webpack_public_path__ + \"static/media/error.d4ce2a26.svg\";","export default __webpack_public_path__ + \"static/media/logined.a9eb6caf.svg\";","import error from '../images/error.svg';\r\nimport logined from '../images/logined.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n    // const element = false\r\n\r\n    // const login = true\r\n\r\n    return (\r\n    <section className={`popup ${props.isOpen ? 'popup_is-opened' : ''}`}>\r\n        <div className=\"popup__container\">\r\n                <button  onClick={props.closePopup} aria-label=\"Закрыть модальное окно\" type=\"button\" className=\"popup__exit\"></button>\r\n                <img src={`${props.isRegister ? logined : error}`} alt=\"индикатор регистрации\" className=\"popup__logined\" />\r\n                <h2 className=\"popup__text-logined\">{`${props.isRegister ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}`}</h2>\r\n        </div>\r\n    </section>\r\n    );\r\n}\r\nexport default InfoTooltip;","import React, { useEffect } from 'react';\nimport { Route, Switch, NavLink, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport Login from './Login';\nimport Register from './Register';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport RemoveCardPopup from './RemoveCardPopup';\nimport ImagePopup from './ImagePopup';\nimport apiMesto from '../utils/api';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as Auth from '../utils/Auth.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport InfoTooltip from './InfoTooltip';\n\nfunction App() {\n\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({name: '', abaut: '', avatar: '', _id: ''});\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [deleteCard, setDeleteCard] = React.useState(null);\n  const [selectedCard, setSelectedCard] = React.useState({name: '', link: ''});\n  const [isSaving, setIsSaving] = React.useState(false);\n\n  React.useEffect(() => {\n    apiMesto\n    .getProfileData()\n    .then (data => {\n      if(data) {\n        setCurrentUser(data)\n      }\n    })\n    .catch(err => console.log(err))\n  }, []);\n\n\n\n  function handleCardClick(item) {\n    setSelectedCard(item);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setDeleteCard(null);\n    setSelectedCard({name: '', link: ''});\n  }\n\n  React.useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', closeByEscape)\n    \n    return () => document.removeEventListener('keydown', closeByEscape)\n  }, [])\n\n  function handleUpdateUser(newDataUser) {\n    setIsSaving(true)\n    apiMesto\n    .profileRedact(newDataUser)\n    .then((data) => {\n      setCurrentUser(data)\n      setIsEditProfilePopupOpen(false)\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      setIsSaving(false)\n    });\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    setIsSaving(true)\n    apiMesto\n    .avatarRedact(newAvatar)\n    .then((data) => {\n      setCurrentUser(data)\n      setIsEditAvatarPopupOpen(false)\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      setIsSaving(false)\n    });\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    setIsSaving(true)\n    apiMesto\n    .cardCreate(newCard)\n    .then((data) => {\n      setCards([data, ...cards]); \n      setIsAddPlacePopupOpen(false)\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      setIsSaving(false)\n    });\n  }\n\n  React.useEffect(() => {\n    apiMesto\n    .getInitialCards()\n    .then (data => {\n        setCards(data)\n    })\n    .catch(err => console.log(err))\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    apiMesto\n    .changeLikeCardStatus(card._id, isLiked)\n    .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch(err => console.log(err))\n  }\n\n  function handleRemoveCardSubmit() {\n    setIsSaving(true)\n    apiMesto\n    .deleteCard(deleteCard._id)\n    .then(() => {\n      setCards((state) => state.filter((c) => c._id !== deleteCard._id));\n      setDeleteCard(false)\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      setIsSaving(false)\n    });\n  }\n\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userData, setUserData] = React.useState({\n    _id: '', \n    email: '',\n  });\n\n  function handleLogin({ password, email }) {\n    Auth.authorize({ password, email })\n    .then(data => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        tokenCheck()\n        history.push('/')\n      }\n    })\n    .catch((err) => {\n      setIsInfoTooltipOpen(true)\n      setIsInfoRegister(false)\n      console.log(err)\n    })\n  }\n\n  function handleRegister ({ password, email }) {\n    Auth.register({ password, email })\n    .then((res) => {\n      if (res) {\n        setIsInfoTooltipOpen(true)\n        setIsInfoRegister(true)\n        history.push('/sign-in')\n      }\n    })\n    .catch((err) => {\n      setIsInfoTooltipOpen(true)\n      setIsInfoRegister(false)\n      console.log(err)\n    })\n  }\n\n  const history = useHistory();\n\n  useEffect(() => {\n    if (loggedIn === true) {\n      history.push('/')\n    }\n  }, [loggedIn, history])\n\n  useEffect(() => {\n    tokenCheck()\n  }, [])\n\n  function tokenCheck () {\n    const jwt = localStorage.getItem('jwt')\n    if (localStorage.getItem('jwt')) {\n      Auth.getContent(jwt)\n      .then((res) => {\n        if (res) {\n          setUserData({\n            _id: res.data._id, \n            email: res.data.email,\n          })\n          setLoggedIn(true)\n        }\n      })\n      .catch((err) => {\n        setIsInfoTooltipOpen(true)\n        setIsInfoRegister(false)\n        console.log(err)\n      })\n    }\n  }\n\n  function handleSingOut () {\n    localStorage.removeItem('jwt');\n  }\n\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [isInfoRegister, setIsInfoRegister] = React.useState(false);\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n\n        <Switch>\n          <ProtectedRoute\n            exact path='/'\n            loggedIn={loggedIn}\n            initialCards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={setDeleteCard}\n            сardClick={handleCardClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            singOut={handleSingOut}\n            userMail={userData}\n            component={Main}\n          />\n\n          <Route path='/sign-in'>\n            <Header>\n              <NavLink to=\"/sign-up\" className=\"menu__link\">Регистрация</NavLink>\n            </Header>\n            <Login onLogin={handleLogin} />\n          </Route>\n\n          <Route path='/sign-up'>\n            <Header>\n              <NavLink to=\"/sign-in\" className=\"menu__link\">Войти</NavLink>\n            </Header>\n            <Register onRegister={handleRegister} />\n          </Route>\n\n        </Switch>\n\n        <Footer />\n\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          isRegister={isInfoRegister}\n          closePopup={closeAllPopups}\n        />\n\n        <EditProfilePopup\n          saving={isSaving}\n          onUpdateUser={handleUpdateUser} \n          isOpen={isEditProfilePopupOpen}\n          closePopup={closeAllPopups}\n        />\n      \n        <AddPlacePopup\n          saving={isSaving}\n          onAddPlace={handleAddPlaceSubmit}\n          isOpen={isAddPlacePopupOpen}\n          closePopup={closeAllPopups}\n        />\n\n        <EditAvatarPopup\n          saving={isSaving}\n          onUpdateAvatar={handleUpdateAvatar}\n          isOpen={isEditAvatarPopupOpen}\n          closePopup={closeAllPopups}\n        />\n\n        <RemoveCardPopup\n          saving={isSaving}\n          onRemoveCard={handleRemoveCardSubmit}\n          isOpen={deleteCard}\n          closePopup={closeAllPopups}\n        />\n\n        <ImagePopup\n          cardName={selectedCard.name}\n          cardLink={selectedCard.link}\n          closePopup={closeAllPopups}\n        />\n\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { HashRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}