(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{30:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(19),o=a.n(i),s=(a(30),a(24)),r=a(2),u=a(3),l=a(8),p=a.p+"static/media/header__logo.931a48ca.svg",d=a(0);var j=function(e){var t=c.a.useState(!1),a=Object(r.a)(t,2),n=a[0],i=a[1];function o(){i(!n)}var s="header__container1 ".concat(n?"header__container1_active":""),u="".concat(n?"header__button-menu_hidden":"header__button-menu"),l="header__button-menu-close ".concat(n?"header__button-menu-close_active":"");return Object(d.jsxs)("header",{children:[Object(d.jsx)("div",{className:s,children:e.children}),Object(d.jsxs)("div",{className:"header__container2",children:[Object(d.jsx)("img",{src:p,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f Mesto",className:"header__logo"}),Object(d.jsx)("button",{onClick:o,"aria-label":"\u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435 \u043c\u0435\u043d\u044e \u0431\u0443\u0440\u0433\u0435\u0440",type:"button",className:u}),Object(d.jsx)("button",{onClick:o,"aria-label":"\u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u043c\u0435\u043d\u044e \u0431\u0443\u0440\u0433\u0435\u0440",type:"button",className:l}),Object(d.jsx)("nav",{className:"menu",children:e.children})]})]})},h=c.a.createContext();var m=function(e){var t=c.a.useContext(h),a=e.openedCard.owner._id===t._id,n="card__remove ".concat(a?"":"card__remove_visibility_hide"),i=e.cardLikes.some((function(e){return e._id===t._id})),o="card__like ".concat(i?"card__like_active":"");return Object(d.jsxs)("li",{className:"card",children:[Object(d.jsx)("button",{onClick:function(){e.onCardDelete(e.openedCard)},"aria-label":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",type:"button",className:n}),Object(d.jsx)("div",{className:"card__image-container",children:Object(d.jsx)("img",{onClick:function(){e.onCardClick(e.openedCard)},src:e.cardImage,alt:e.cardName,className:"card__image"})}),Object(d.jsxs)("div",{className:"card__description-container",children:[Object(d.jsx)("h2",{className:"card__description",children:e.cardName}),Object(d.jsxs)("div",{className:"card__button-container",children:[Object(d.jsx)("button",{onClick:function(){e.onCardLike(e.openedCard)},"aria-label":"\u041b\u0430\u0439\u043a",type:"button",className:o}),Object(d.jsx)("p",{className:"card__likes",children:e.cardLikes.length})]})]})]})};var _=function(e){var t=c.a.useContext(h);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(j,{children:[Object(d.jsx)(l.c,{exact:!0,to:"/",activeClassName:"menu__link_active",className:"menu__link",children:e.userMail.email}),Object(d.jsx)(l.c,{onClick:e.singOut,to:"/sign-in",className:"menu__link",children:"\u0412\u044b\u0439\u0442\u0438"})]}),Object(d.jsxs)("main",{className:"content",children:[Object(d.jsxs)("section",{className:"profile",children:[Object(d.jsxs)("div",{className:"profile__container",children:[Object(d.jsxs)("div",{className:"profile__image-container",children:[Object(d.jsx)("button",{"aria-label":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0438 \u0438 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f",type:"button",className:"profile__image-redact"}),Object(d.jsx)("img",{src:t.avatar,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f",className:"profile__image",onClick:e.onEditAvatar})]}),Object(d.jsxs)("div",{className:"profile__container-info",children:[Object(d.jsxs)("div",{className:"profile__container-name",children:[Object(d.jsx)("h1",{className:"profile__name",children:t.name}),Object(d.jsx)("button",{"aria-label":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0438 \u0438 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f",type:"button",className:"profile__redact",onClick:e.onEditProfile})]}),Object(d.jsx)("p",{className:"profile__description",children:t.about})]})]}),Object(d.jsx)("button",{"aria-label":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a \u0441 \u043c\u0435\u0441\u0442\u0430\u043c\u0438",type:"button",className:"profile__add-profile",onClick:e.onAddPlace})]}),Object(d.jsx)("section",{className:"places",children:Object(d.jsx)("ul",{className:"places__cards",children:e.initialCards.map((function(t){return Object(d.jsx)(m,{openedCard:t,onCardClick:e.\u0441ardClick,cardName:t.name,cardImage:t.link,cardLikes:t.likes,onCardLike:e.onCardLike,onCardDelete:e.onCardDelete},t._id)}))})})]})]})};var b=function(){return Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Mesto Russia"})})},f=a(14),O=a(12);var g=function(e){var t=c.a.useState(""),a=Object(r.a)(t,2),n=a[0],i=a[1],o=c.a.useState(""),s=Object(r.a)(o,2),u=s[0],l=s[1],p=c.a.useState({password:"",email:""}),j=Object(r.a)(p,2),h=j[0],m=j[1];function _(e){var t=e.target,a=t.name,n=t.value,c=t.validationMessage;m(Object(O.a)(Object(O.a)({},h),{},Object(f.a)({},a,n))),"email"===a&&i(c),"password"===a&&l(c)}var b="auth-form__input ".concat(n?"popup__input_error_active":""),g="auth-form__input ".concat(u?"popup__input_error_active":"");return Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.login(h)},name:"register",className:"auth-form",children:[Object(d.jsxs)("section",{className:"auth-form__element",children:[Object(d.jsx)("input",{value:h.email||"",onChange:_,id:"sing-in-email",type:"email",placeholder:"Email",name:"email",className:b,required:!0}),Object(d.jsx)("span",{className:"popup__input-error",id:"sing-in-place-error",children:n})]}),Object(d.jsxs)("section",{className:"auth-form__element",children:[Object(d.jsx)("input",{value:h.password||"",onChange:_,id:"sing-in-password",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",className:g,required:!0,minLength:"1",maxLength:"40"}),Object(d.jsx)("span",{className:"popup__input-error",id:"sing-in-place-error",children:u})]}),Object(d.jsx)("button",{type:"submit",className:"auth-form__submit",children:e.buttonText})]})};var v=function(e){return Object(d.jsxs)("main",{className:"auth",children:[Object(d.jsx)("h2",{className:"auth__header",children:"\u0412\u0445\u043e\u0434"}),Object(d.jsx)(g,{login:e.onLogin,buttonText:"\u0412\u043e\u0439\u0442\u0438"})]})};var x=function(e){return Object(d.jsxs)("main",{className:"auth",children:[Object(d.jsx)("h2",{className:"auth__header",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(d.jsx)(g,{login:e.onRegister,buttonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(d.jsx)(l.b,{className:"auth__link",to:"/sign-in",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"})]})};var N=function(e){return Object(d.jsx)("section",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen?"popup_is-opened":""),children:Object(d.jsxs)("div",{className:"popup__container",children:[Object(d.jsx)("button",{onClick:e.closePopup,"aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",type:"button",className:"popup__exit popup__exit-profile"}),Object(d.jsx)("h2",{className:"popup__text-redaction",children:e.title}),Object(d.jsxs)("form",{onSubmit:e.onSubmit,name:"".concat(e.name),className:"popup__form popup__form-profile",children:[e.children,Object(d.jsx)("button",{type:"submit",className:"popup__save",children:e.buttonText})]})]})})};var C=function(e){var t=c.a.useContext(h),a=c.a.useState(""),n=Object(r.a)(a,2),i=n[0],o=n[1],s=c.a.useState(""),u=Object(r.a)(s,2),l=u[0],p=u[1],j=c.a.useState(""),m=Object(r.a)(j,2),_=m[0],b=m[1],f=c.a.useState(""),O=Object(r.a)(f,2),g=O[0],v=O[1];c.a.useEffect((function(){o(t.name),p(t.about)}),[t,e.isOpen]);var x="popup__input popup__input_change_name ".concat(_?"popup__input_error_active":""),C="popup__input popup__input_change_description ".concat(g?"popup__input_error_active":"");return Object(d.jsxs)(N,{onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:i,about:l})},buttonText:"".concat(e.saving?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"edit",isOpen:e.isOpen,closePopup:e.closePopup,children:[Object(d.jsxs)("section",{className:"popup__input-element",children:[Object(d.jsx)("input",{value:i||"",onChange:function(e){o(e.target.value),b(e.target.validationMessage)},id:"sing-in-name",type:"text",placeholder:"\u0418\u043c\u044f",name:"name",className:x,required:!0,minLength:"2",maxLength:"40"}),Object(d.jsx)("span",{className:"popup__input-error",id:"sing-in-name-error",children:_})]}),Object(d.jsxs)("section",{className:"popup__input-element",children:[Object(d.jsx)("input",{value:l||"",onChange:function(e){p(e.target.value),v(e.target.validationMessage)},id:"sing-in-description",type:"text",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description",className:C,required:!0,minLength:"2",maxLength:"200"}),Object(d.jsx)("span",{className:"popup__input-error",id:"sing-in-description-error",children:g})]})]})};var k=function(e){var t=c.a.useState(""),a=Object(r.a)(t,2),n=a[0],i=a[1],o=c.a.useState(""),s=Object(r.a)(o,2),u=s[0],l=s[1],p="popup__input popup__input_change_avatar ".concat(u?"popup__input_error_active":"");return Object(d.jsx)(N,{onSubmit:function(t){t.preventDefault(),e.onUpdateAvatar({avatar:n}),i("")},buttonText:"".concat(e.saving?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"add-avatar",isOpen:e.isOpen,closePopup:e.closePopup,children:Object(d.jsxs)("section",{className:"popup__input-element",children:[Object(d.jsx)("input",{value:n||"",onChange:function(e){i(e.target.value),l(e.target.validationMessage)},id:"avatar-url",type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",name:"avatar",className:p,required:!0}),Object(d.jsx)("span",{className:"popup__input-error",id:"avatar-url-error",children:u})]})})};var y=function(e){var t=c.a.useState(""),a=Object(r.a)(t,2),n=a[0],i=a[1],o=c.a.useState(""),s=Object(r.a)(o,2),u=s[0],l=s[1],p=c.a.useState(""),j=Object(r.a)(p,2),h=j[0],m=j[1],_=c.a.useState(""),b=Object(r.a)(_,2),f=b[0],O=b[1],g="popup__input popup__input_change_name-card ".concat(h?"popup__input_error_active":""),v="popup__input popup__input_change_src ".concat(f?"popup__input_error_active":"");return Object(d.jsxs)(N,{onSubmit:function(t){t.preventDefault(),e.onAddPlace({name:n,link:u}),i(""),l("")},buttonText:"".concat(e.saving?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435...":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"add-card",isOpen:e.isOpen,closePopup:e.closePopup,children:[Object(d.jsxs)("section",{className:"popup__input-element",children:[Object(d.jsx)("input",{value:n||"",onChange:function(e){i(e.target.value),m(e.target.validationMessage)},id:"sing-in-place",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"place",className:g,required:!0,minLength:"2",maxLength:"30"}),Object(d.jsx)("span",{className:"popup__input-error",id:"sing-in-place-error",children:h})]}),Object(d.jsxs)("section",{className:"popup__input-element",children:[Object(d.jsx)("input",{value:u||"",onChange:function(e){l(e.target.value),O(e.target.validationMessage)},id:"sing-in-url",type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",name:"url",className:v,required:!0}),Object(d.jsx)("span",{className:"popup__input-error",id:"sing-in-url-error",children:f})]})]})};var S=function(e){return Object(d.jsx)(N,{onSubmit:function(t){t.preventDefault(),e.onRemoveCard()},buttonText:"".concat(e.saving?"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435...":"\u0414\u0430"),title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"delete-card",isOpen:e.isOpen,closePopup:e.closePopup})};var P=function(e){return Object(d.jsx)("section",{className:"popup popup_type_image ".concat(e.cardLink?"popup_is-opened":""),children:Object(d.jsxs)("div",{className:"popup__photo-container",children:[Object(d.jsx)("button",{onClick:e.closePopup,"aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0444\u043e\u0442\u043e",type:"button",className:"popup__exit-see-photo"}),Object(d.jsx)("img",{src:"".concat(e.cardLink),alt:"".concat(e.cardName),className:"popup__image-see-photo"}),Object(d.jsx)("h2",{className:"popup__text-see-photo",children:e.cardName})]})})},L=a(22),T=a(23),w=new(function(){function e(t){Object(L.a)(this,e),this.url=t.url,this.authorization=t.auth}return Object(T.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getProfileData",value:function(){var e=this;return fetch("".concat(this.url,"/users/me"),{headers:{authorization:this.authorization,method:"GET"}}).then((function(t){return e._getResponseData(t)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this.url,"/cards"),{headers:{authorization:this.authorization,method:"GET"}}).then((function(t){return e._getResponseData(t)}))}},{key:"profileRedact",value:function(e){var t=this;return fetch("".concat(this.url,"/users/me"),{method:"PATCH",headers:{authorization:this.authorization,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return t._getResponseData(e)}))}},{key:"cardCreate",value:function(e){var t=this;return fetch("".concat(this.url,"/cards"),{method:"POST",headers:{authorization:this.authorization,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t._getResponseData(e)}))}},{key:"changeLikeCardStatus",value:function(e,t){var a=this;return t?fetch("".concat(this.url,"/cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this.authorization}}).then((function(e){return a._getResponseData(e)})):fetch("".concat(this.url,"/cards/likes/").concat(e),{method:"PUT",headers:{authorization:this.authorization}}).then((function(e){return a._getResponseData(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this.url,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this.authorization}}).then((function(e){return t._getResponseData(e)}))}},{key:"avatarRedact",value:function(e){var t=this;return fetch("".concat(this.url,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this.authorization,"Content-Type":"application/json"},body:JSON.stringify({avatar:e.avatar})}).then((function(e){return t._getResponseData(e)}))}}]),e}())({url:"https://nomoreparties.co/v1/cohort-27",auth:"947e1a41-7fdd-411e-be19-4441fbe7ac08"}),E=a(25),D=["component"],R=function(e){var t=e.component,a=Object(E.a)(e,D);return Object(d.jsx)(u.b,{children:function(){return a.loggedIn?Object(d.jsx)(t,Object(O.a)({},a)):Object(d.jsx)(u.a,{to:"./sign-in"})}})},z="https://auth.nomoreparties.co",I=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.statusText))},A=a.p+"static/media/error.d4ce2a26.svg",M=a.p+"static/media/logined.a9eb6caf.svg";var q=function(e){return Object(d.jsx)("section",{className:"popup ".concat(e.isOpen?"popup_is-opened":""),children:Object(d.jsxs)("div",{className:"popup__container",children:[Object(d.jsx)("button",{onClick:e.closePopup,"aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e",type:"button",className:"popup__exit"}),Object(d.jsx)("img",{src:"".concat(e.isRegister?M:A),alt:"\u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",className:"popup__logined"}),Object(d.jsx)("h2",{className:"popup__text-logined",children:"".concat(e.isRegister?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.")})]})})};var J=function(){var e=c.a.useState([]),t=Object(r.a)(e,2),a=t[0],i=t[1],o=c.a.useState({name:"",abaut:"",avatar:"",_id:""}),p=Object(r.a)(o,2),m=p[0],f=p[1],O=c.a.useState(!1),g=Object(r.a)(O,2),N=g[0],L=g[1],T=c.a.useState(!1),E=Object(r.a)(T,2),D=E[0],A=E[1],M=c.a.useState(!1),J=Object(r.a)(M,2),U=J[0],F=J[1],B=c.a.useState(null),G=Object(r.a)(B,2),H=G[0],K=G[1],Q=c.a.useState({name:"",link:""}),V=Object(r.a)(Q,2),W=V[0],X=V[1],Y=c.a.useState(!1),Z=Object(r.a)(Y,2),$=Z[0],ee=Z[1];function te(){A(!1),L(!1),F(!1),me(!1),K(null),X({name:"",link:""})}c.a.useEffect((function(){w.getProfileData().then((function(e){e&&f(e)})).catch((function(e){return console.log(e)}))}),[]),c.a.useEffect((function(){var e=function(e){"Escape"===e.key&&te()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[]),c.a.useEffect((function(){w.getInitialCards().then((function(e){i(e)})).catch((function(e){return console.log(e)}))}),[]);var ae=c.a.useState(!1),ne=Object(r.a)(ae,2),ce=ne[0],ie=ne[1],oe=c.a.useState({_id:"",email:""}),se=Object(r.a)(oe,2),re=se[0],ue=se[1],le=Object(u.g)();function pe(){var e,t=localStorage.getItem("jwt");localStorage.getItem("jwt")&&(e=t,fetch("".concat(z,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(I)).then((function(e){e&&(ue({_id:e.data._id,email:e.data.email}),ie(!0))})).catch((function(e){me(!0),Oe(!1),console.log(e)}))}Object(n.useEffect)((function(){!0===ce&&le.push("/")}),[ce,le]),Object(n.useEffect)((function(){pe()}),[]);var de=c.a.useState(!1),je=Object(r.a)(de,2),he=je[0],me=je[1],_e=c.a.useState(!1),be=Object(r.a)(_e,2),fe=be[0],Oe=be[1];return Object(d.jsx)("div",{className:"page",children:Object(d.jsxs)(h.Provider,{value:m,children:[Object(d.jsxs)(u.d,{children:[Object(d.jsx)(R,{exact:!0,path:"/",loggedIn:ce,initialCards:a,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===m._id}));w.changeLikeCardStatus(e._id,t).then((function(t){i((function(a){return a.map((function(a){return a._id===e._id?t:a}))}))})).catch((function(e){return console.log(e)}))},onCardDelete:K,"\u0441ardClick":function(e){X(e)},onEditProfile:function(){A(!0)},onAddPlace:function(){F(!0)},onEditAvatar:function(){L(!0)},singOut:function(){localStorage.removeItem("jwt")},userMail:re,component:_}),Object(d.jsxs)(u.b,{path:"/sign-in",children:[Object(d.jsx)(j,{children:Object(d.jsx)(l.c,{to:"/sign-up",className:"menu__link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(d.jsx)(v,{onLogin:function(e){(function(e){var t=e.password,a=e.email;return fetch("".concat(z,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,email:a})}).then(I)})({password:e.password,email:e.email}).then((function(e){e.token&&(localStorage.setItem("jwt",e.token),pe(),le.push("/"))})).catch((function(e){me(!0),Oe(!1),console.log(e)}))}})]}),Object(d.jsxs)(u.b,{path:"/sign-up",children:[Object(d.jsx)(j,{children:Object(d.jsx)(l.c,{to:"/sign-in",className:"menu__link",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(d.jsx)(x,{onRegister:function(e){(function(e){var t=e.password,a=e.email;return fetch("".concat(z,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,email:a})}).then(I)})({password:e.password,email:e.email}).then((function(e){e&&(me(!0),Oe(!0),le.push("/sign-in"))})).catch((function(e){me(!0),Oe(!1),console.log(e)}))}})]})]}),Object(d.jsx)(b,{}),Object(d.jsx)(q,{isOpen:he,isRegister:fe,closePopup:te}),Object(d.jsx)(C,{saving:$,onUpdateUser:function(e){ee(!0),w.profileRedact(e).then((function(e){f(e),A(!1)})).catch((function(e){return console.log(e)})).finally((function(){ee(!1)}))},isOpen:D,closePopup:te}),Object(d.jsx)(y,{saving:$,onAddPlace:function(e){ee(!0),w.cardCreate(e).then((function(e){i([e].concat(Object(s.a)(a))),F(!1)})).catch((function(e){return console.log(e)})).finally((function(){ee(!1)}))},isOpen:U,closePopup:te}),Object(d.jsx)(k,{saving:$,onUpdateAvatar:function(e){ee(!0),w.avatarRedact(e).then((function(e){f(e),L(!1)})).catch((function(e){return console.log(e)})).finally((function(){ee(!1)}))},isOpen:N,closePopup:te}),Object(d.jsx)(S,{saving:$,onRemoveCard:function(){ee(!0),w.deleteCard(H._id).then((function(){i((function(e){return e.filter((function(e){return e._id!==H._id}))})),K(!1)})).catch((function(e){return console.log(e)})).finally((function(){ee(!1)}))},isOpen:H,closePopup:te}),Object(d.jsx)(P,{cardName:W.name,cardLink:W.link,closePopup:te})]})})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,38)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(l.a,{children:Object(d.jsx)(J,{})})}),document.getElementById("root")),U()}},[[37,1,2]]]);
//# sourceMappingURL=main.9157ebaf.chunk.js.map